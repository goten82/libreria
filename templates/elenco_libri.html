{% extends "form.html" %}

{% block content %}


<div class="container mt-5">
    <h1 class="mb-4">Elenco dei Libri</h1>
    <table id="tabella_libri" class="table table-striped">
        <thead>
            <tr>
                <th>ID</th>
                <th>Titolo</th>
                <th>Autore</th>
                <th>Casa editrice</th>
                <th>Isbn</th>
                <th>Categoria</th>
                <th>Posizione</th>
                <th>Azioni</th>
            </tr>
        </thead>
        <tbody>
            {% for libro in libri %}
            <tr>
                <td>{{ libro.id }}</td>
                <td>{{ libro.titolo }}</td>
                <td>{{ libro.autore }}</td>
                <td>{{ libro.casa_editrice }}</td>
                <td>{{ libro.isbn }}</td>
                <td>{{ libro.categoria }}</td>
                <td>{{ libro.posizione }}</td>
                <td>
                    <a href="/api/libro/{{ libro.id }}" class="btn btn-primary btn-sm"><i class="fa-solid fa-eye"></i>
                        Dettagli </a>
                    <a href="/api/libro/{{ libro.id }}/edit" class="btn btn-primary btn-sm"><i
                            class="fa-solid fa-pen-to-square"></i> Modifica </a>
                    <a href="#" class="btn btn-danger btn-sm" onclick="eliminaLibro({{ libro.id }})"><i
                            class="fa-solid fa-trash"></i> Elimina </a>
                </td>
            </tr>
            {% endfor %}
    </table>
</div>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<!-- DataTables JS -->
<!-- <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script> -->
<!-- Bootstrap JS -->
<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script> -->


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.datatables.net/2.1.8/js/dataTables.js"></script>
<script src="https://cdn.datatables.net/2.1.8/js/dataTables.bootstrap5.js"></script>
<script>
    // Inizializzazione della tabella con DataTables
    $(document).ready(function () {
        $('#tabella_libri').DataTable({
            paging: true,      // Abilita la paginazione
            searching: false,   // Abilita la barra di ricerca
            ordering: true     // Abilita l'ordinamento delle colonne
        });
    });
</script>


{% endblock %}